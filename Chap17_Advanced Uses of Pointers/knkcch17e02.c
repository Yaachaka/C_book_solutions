/*
@@@@ PROGRAM NAME: knkcch17e02.c
@@@@ FLAGS: -std=c99
@@@@ PROGRAM STATEMENT: 
Write a function named duplicate 
that uses dynamic storage allocation to create a copy of a string. For example, 
the call

	p = duplicate(str) ;

would allocate space for a string of the same length as str, copy the contents of 
str into the new string, and return a pointer to it. Have duplicate return a 
null pointer if the memory allocation fails.
*/
#include <stdio.h>
#include <stdlib.h>  //NULL, malloc()
#include <string.h>  //strcpy()
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
char* duplicate(char *str);
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//------------------------START OF MAIN()--------------------------------------
int main(void)
{
	printf("++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n");
	printf("File: %s, C Version: %d, Date: %s, Time: %s\n\n", __FILE__, __STDC_VERSION__, __DATE__, __TIME__);

	char *str = "Hello there", *p;

	p = duplicate(str);

	printf("str: %s\np: %s", str, p);

	printf("\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n");
	return 0;
}
//-------------------------END OF MAIN()---------------------------------------
char* duplicate(char *str)
{
	char *p = malloc(strlen(str) + 1);
	if(!p)
		return NULL;
	strcpy(p,str);
	return p;

}
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
/*
OUTPUT:
@@@@ Trial1:
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
File: knkcch17e02.c, C Version: 199901, Date: Mar 15 2021, Time: 21:40:44

str: Hello there
p: Hello there
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

@@@@ Trial2:
@@@@ Trial3:
@@@@ Trial4:
@@@@ Trial5:
@@@@ Trial6:
@@@@ Trial7:
@@@@ Trial8:
@@@@ Trial9:
*/
//---------------------------------------------------------------------------